(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-231a1e7c"],{"142b":function(t,e,a){"use strict";a("26b7")},"26b7":function(t,e,a){},"51d5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog"),a("div",{staticClass:"login-window"},[t._m(0),a("div",{staticClass:"form-container"},[a("form",{staticClass:"login-form",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("h5",{staticClass:"form-title"},[t._v("註冊")]),a("div",{staticClass:"form-row"},[a("account-icon"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{type:"text",id:"username",name:"username",placeholder:"帳號"},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})],1),t._m(1),a("div",{staticClass:"form-row"},[a("password-icon"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",id:"password",name:"password",placeholder:"密碼"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})],1),a("div",{staticClass:"form-row",staticStyle:{"justify-content":"space-between"}},[a("verify-icon"),a("input",{attrs:{type:"text",id:"verificationCode",placeholder:"驗證碼"},domProps:{value:t.codeInput},on:{input:function(e){t.codeInput=e.target.value.toLowerCase()}}}),a("img",{staticClass:"codeImage",attrs:{src:t.imageData,alt:"verificationCode"}}),a("button",{on:{click:function(e){return e.preventDefault(),t.renew(e)}}},[a("renew-icon")],1)],1),a("input",{staticClass:"login-btn",attrs:{type:"submit",value:"註冊"}})])])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-sidebar"},[i("img",{staticClass:"brand-logo",attrs:{src:a("7f79"),alt:""}}),i("h5",{staticClass:"brand-name"},[t._v(" 台北市政府 資訊整合平台 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"end","margin-bottom":"20px"}},[a("a",{staticClass:"checkAcc",attrs:{href:"#"}},[t._v("檢查帳號")])])}],n=(a("4de4"),a("b0c0"),a("ce0d")),o={components:{},data:function(){return{userName:"",password:"",codeInput:"",imageData:"",codeText:""}},methods:{register:function(){var t=this,e={userName:this.userName,userPass:this.password},a="http://localhost:5000/users/";"correct"===this.validInput?this.axios.post(a,e).then((function(e){"success"===e&&t.$modal.show("dialog",{title:'<h4 style="text-align: center;"><span data-v-71e61faf="" aria-label="Alert icon" role="img" class="material-design-icon alert-icon"><svg data-v-71e61faf="" fill="rgb(255 94 94)" width="50" height="50" viewBox="0 0 24 24" class="material-design-icon__svg"><path data-v-71e61faf="" d="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"><title data-v-71e61faf="">Alert icon</title></path></svg></span></h4>',text:'<p style="text-align: center;">註冊成功</p>',buttons:[{title:"重試",handler:function(){t.$modal.hide("dialog")}}]})})):this.$modal.show("dialog",{title:'<h4 style="text-align: center;"><span data-v-71e61faf="" aria-label="Alert icon" role="img" class="material-design-icon alert-icon"><svg data-v-71e61faf="" fill="rgb(255 94 94)" width="50" height="50" viewBox="0 0 24 24" class="material-design-icon__svg"><path data-v-71e61faf="" d="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"><title data-v-71e61faf="">Alert icon</title></path></svg></span></h4>',text:'<p style="text-align: center;">驗證碼錯誤</p>',buttons:[{title:"重試",handler:function(){t.$modal.hide("dialog")}}]})},renew:function(){var t=Object(n["a"])(120,40),e=t.code,a=t.data;this.imageData=a,this.codeText=e},login:function(t){var e=this;console.log("login");var a=function(){return e.$store.state.userInfo.filter((function(t){return t.name===e.userName}))},i=function(){return a().filter((function(t){return t.password===e.password}))};0===a().length&&(this.$modal.show("dialog",{title:'<h4 style="text-align: center;"><span data-v-71e61faf="" aria-label="Alert icon" role="img" class="material-design-icon alert-icon"><svg data-v-71e61faf="" fill="rgb(255 94 94)" width="50" height="50" viewBox="0 0 24 24" class="material-design-icon__svg"><path data-v-71e61faf="" d="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"><title data-v-71e61faf="">Alert icon</title></path></svg></span></h4>',text:'<p style="text-align: center;">查無使用者</p>',buttons:[{title:"重試",handler:function(){e.$modal.hide("dialog")}}]}),this.renew()),0!==i().length?(this.loginCheck(),this.loadUser(i()[0])):(this.$modal.show("dialog",{title:'<h4 style="text-align: center;"><span data-v-71e61faf="" aria-label="Alert icon" role="img" class="material-design-icon alert-icon"><svg data-v-71e61faf="" fill="rgb(255 94 94)" width="50" height="50" viewBox="0 0 24 24" class="material-design-icon__svg"><path data-v-71e61faf="" d="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"><title data-v-71e61faf="">Alert icon</title></path></svg></span></h4>',text:'<p style="text-align: center;">密碼或驗證碼錯誤</p>',buttons:[{title:"重試",handler:function(){e.$modal.hide("dialog")}}]}),this.renew())},loginCheck:function(){var t=this;"correct"===this.validInput?this.$router.push({path:"/index"}):(this.$modal.show("dialog",{title:'<h4 style="text-align: center;">登入失敗</h4>',text:'<p style="text-align: center;">密碼或驗證碼錯誤</p>',buttons:[{title:"重試",handler:function(){t.$modal.hide("dialog")}}]}),this.renew())},loadUser:function(t){this.$store.state.currentUser=t}},computed:{validInput:function(){return this.codeText===this.codeInput?"correct":"not correct"}},mounted:function(){this.renew()}},l=o,r=(a("142b"),a("2877")),c=Object(r["a"])(l,i,s,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-231a1e7c.79670909.js.map